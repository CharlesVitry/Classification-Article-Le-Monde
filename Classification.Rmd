---
title: |
  ![](RStudio_Logo.png){width=125%}  
  Classification des articles du monde en fonction de leur contenu
author: 
- Charles Vitry
- Clovis Deletre
date: "[Fichiers de données et de test fournis](https://www.lemonde.fr/)"
output:
  rmarkdown::html_document:
    theme: cerulean
    number_sections: no
    toc: yes
    toc_depth: 5
    toc_float: true
---
<style type="text/css">

body{ /* Normal  */
      font-size: 12px;
  }
td {  /* Table  */
  font-size: 8px;
}
h1.title {
  font-size: 38px;
  color: DarkBlue;
}
h1 { /* Header 1 */
  font-size: 28px;
  color: DarkBlue;
}
h2 { /* Header 2 */
    font-size: 18px;
  color: DarkBlue;
}
h3 { /* Header 3 */
  font-size: 15px;
  font-family: "Times New Roman", Times, serif;
  color: DarkBlue;
}
code.r{ /* Code block */
    font-size: 12px;
}
pre { /* Code block - determines code spacing between lines */
    font-size: 14px;
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

#install for export in pdf file
#tinytex::install_tinytex()

if(!require(tm)) install.packages("tm", repos = "http://cran.us.r-project.org")
require(tm)

if(!require(wordcloud2)) install.packages("wordcloud2", repos = "http://cran.us.r-project.org")
require(wordcloud2)


if(!require(randomForest)) install.packages("randomForest", repos = "http://cran.us.r-project.org")
require(randomForest)
```



## Import de la base de données & du jeu test

On utilise l'encodage UTF-8 car le monde est un journal français utilisant des caractères spéciaux.
```{r}
data <- 
   read.csv("~/Classification Article Le Monde/le_monde.csv", encoding="UTF-8", sep=";", comment.char="#")

test <- 
  read.csv("~/Classification Article Le Monde/lignes_jeux_tests.csv")


```

## transformation des données
Pour l’exercice l’élément positif est le fait d’être un article de type économie

Suppression des deux collones non utiles à la modélisation
```{r}
data$date <- NULL
data$title <- NULL
```

Supprimer les lignes avec des valeurs manquantes (normalement aucune supprimmé)
```{r , echo=FALSE}
which(is.na(data))
data <- na.omit(data)
```
on applique les bons types de variables
```{r}
data$category <- as.factor(data$category)
data$content <- as.character(data$content)
str(data)
```
On a besoin d'un objet de type corpus, 
on prend là ou sont les données, ici la collone V6.
On affiche la première ligne
```{r}
contenu <- Corpus(VectorSource(data$content))
contenu[1]$content

```

On supprime les caracteres qui ne sont pas des lettres,
problème : les accents sont supprimés
```{r}
contenu <- tm_map(contenu, content_transformer(gsub), pattern = "[^a-zA-Z]", replacement = " ")
                 
contenu[1]$content


```
On mets les majuscules en minuscules
```{r}
contenu <- tm_map(contenu, content_transformer(tolower))
contenu[1]$content

```


On retire les lettres isolés et les mots "vides" tel "quand, comme, hors ..."
```{r}
stopwords_fr <- stopwords("french")
stopwords_fr <- c(stopwords_fr, "a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t",
                   "u","v","w","x","y","z" )

contenu <- tm_map(contenu, removeWords , stopwords_fr)
contenu[1]$content

```

```{r}

```




Le traitement de text effectué, on re-ajoute les données au tableau
```{r}
data$content_modif = data.frame(text = sapply(contenu$content, as.character), stringsAsFactors = FALSE)[,1]

```


```{r}

```

```{r}

```

```{r}

```


# Présentation des données

Nous n'effectuons que la dernière partie d'un projet de Data Science : la modélisation,
cette étape constitue 5 à 20% du temps consacré à un ce type de projet.

corrélations
```{r}

```

distribution
```{r}

```

#Modèle Supervisé
Apprentissage supervisé: expliquer/prédire  une sortie Y à partir d’entrées X 
Nous devons éviter le sur-apprentissage.

Modèle supervisé pouvant être utilisé : CART , randomforest, régression linéaire



## Premier modèle
```{r}

```

## Deuxième modèle
```{r}

```

## Troisième modèle
```{r}

```

## Comparaison modèle
```{r}

```

## Mise en œuvre d’un modèle supervisé avec maximum 25 variables
```{r}

```

```{r}

```

```{r}

```

```{r}

```



